<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

  <head>
    <title>CRM</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  </head>

  <body>
  
    <h2 class="text-center font-weight-bold mt-2">C-R-M</h2>
    <form action="#" th:action="@{/logout}" method="POST" class="float-end me-3">
    	<input type="submit" value="Logout"/>
    </form>
    
    <hr>
    <div class="m-5">
    	<a class="btn btn-success" th:href="@{/customer/form(custId=0)}">Add Customer</a>
    <table class="table table-striped">
	    <thead class="thead-dark">
	    	<tr>
	    		<th>First Name</th>
	    		<th>Last Name</th>
	    		<th>Email</th>
	    		<th>Edit</th>
	    		<th>Delete</th>
	    	</tr>
	    </thead>
	    
	    <tbody>
		    <tr th:each="cust : ${customers}">
		    	<td th:text="${cust.firstName}"/>
		    	<td th:text="${cust.lastName}"/>
		    	<td th:text="${cust.email}"/>
		    	<td><a class="btn btn-info" th:href="@{/customer/form(custId=${cust.id})}">Update</a></td>
		    	<td><a class="btn btn-danger" th:href="@{/customer/del(custId=${cust.id})}"
		    	onclick="return confirm('Confirm Deletion?')">Delete</a>
		    	</td>
		    </tr>
	    </tbody>
    </table>
    </div>
  
  </body>

</html>